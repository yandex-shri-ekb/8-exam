function getScreenHeight(){var a=0;return"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&(document.documentElement.clientHeight||document.documentElement.clientHeight)&&(a=document.documentElement.clientHeight),a}function preloadOther(){for(var a=notImagesLoaded.length,b=!1,c=0;a>c;c++){var d=notImagesLoaded[c];d&&(loadImage(d),b=!0)}b||(notImagesLoaded=[],jQuery(window).unbind("scroll",preloadOther))}function imagesPreloader(){jQuery(preloadObjects).each(function(){var a=this;if("img"==a.nodeName.toLowerCase()&&("undefined"==typeof excludeImages||0==excludeImages||-1==a.className.indexOf(excludeImages))){a.longDesc=a.src,a.src="#",a.alt="";var b=jQuery("<span></span>");jQuery(b).css({display:"block"}),b.className="preloader "+a.className,jQuery(a).before(b),loadImage(a)}}),jQuery(window).bind("scroll",preloadOther)}function loadImage(a){var b=jQuery(a).position(),c="object"==typeof b&&"undefined"!=typeof b.top?b.top:0,d=jQuery(window).scrollTop(),e=getScreenHeight();d+e>=c&&"undefined"==typeof a.storePeriod?(a.src=a.longDesc,a.onerror=function(){this.width=0,this.height=0},a.onabort=function(){this.width=0,this.height=0},a.wait=0,a.storePeriod=setInterval(function(){a.wait+=loadCheck,a.width&&a.height&&a.complete?(clearInterval(a.storePeriod),a.storePeriod=!1,jQuery(a.previousSibling).remove(),jQuery(a).css("visibility","visible"),"undefined"!=typeof a.loadedCount&&notImagesLoaded[a.loadedCount]&&(notImagesLoaded[a.loadedCount]=!1)):a.wait>loadWait&&(clearInterval(a.storePeriod),a.storePeriod=!1,"undefined"!=typeof a.loadedCount&&notImagesLoaded[a.loadedCount]&&(notImagesLoaded[a.loadedCount]=!1),jQuery(a).css({display:"none",visibility:"hidden"}),jQuery(a.previousSibling).remove())},loadCheck)):"undefined"==typeof a.loadedCount&&(a.loadedCount=notImagesLoaded.length,notImagesLoaded[a.loadedCount]=a)}var main={init:function(){var a=this;a.initSlowMoveToElement()},initSlowMoveToElement:function(){$(".js-move");$(".js-move").click(function(){var a=$(this),b=$(a.data("move-to"));$("html, body").animate({scrollTop:b.offset().top},500)})}},person={init:function(){}},theme={themeClasses:["b-yellow","b-blue","b-red"],themeTogglesRadio:["#theme-toggle-yellow","#theme-toggle-red","#theme-toggle-blue"],init:function(){var a=this;a.setRandomTheme()},initToggleTheme:function(){var a=this,b=$(".js-person-icon");b.click(function(b){b.preventDefault();var c=$(this),d=c.data("theme-class");a.toggleTheme(d)})},toggleTheme:function(a){var b=this,c=$("body");c.removeClass(b.themeClasses.join(" ")).addClass(a)},setRandomTheme:function(){var a=this,b=Math.floor(3*Math.random()),c=$(a.themeTogglesRadio[b]);c.attr("checked",!0)}},video={init:function(){var a=this;a.initVideoShow(),a.initVideoHide()},initVideoShow:function(){var a=this,b=$("#video-overlay"),c=$("#video-toggle");c.click(function(c){c.preventDefault(),b.fadeIn(300),a.setVideoFrameSrc()})},initVideoHide:function(){var a=this,b=$("#video-overlay"),c=$("#video-close");c.click(function(c){c.preventDefault(),b.fadeOut(300),a.clearVideoFrameSrc()})},setVideoFrameSrc:function(){var a=$("#video-frame"),b=a.data("src");a.attr("src",b)},clearVideoFrameSrc:function(){var a=$("#video-frame");a.attr("src","")}};$(function(){main.init(),person.init(),theme.init(),video.init()}),loadWait=3e4,loadCheck=300,preloadObjects="img",notImagesLoaded=[],excludeImages=!1,$(function(){imagesPreloader()});